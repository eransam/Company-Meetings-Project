{"ast":null,"code":"import _toConsumableArray from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/jhon-bryce-assaf/projects/Company meetings-project/Frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/jhon-bryce-assaf/projects/Company meetings-project/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/erans/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/jhon-bryce-assaf/projects/Company meetings-project/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\erans\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\jhon-bryce-assaf\\\\projects\\\\Company meetings-project\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import meetingService from\"../../../Services/MeetingService\";import MeetingCard from\"../MeetingCard/MeetingCard\";import\"./Meeting.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Meeting(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),gruops=_useState2[0],setgruops=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),meeting=_useState4[0],setmeeting=_useState4[1];useEffect(function(){meetingService.getAllGroups().then(function(groups){return setgruops(groups);}).catch(function(err){return alert(err.message);});},[]);function handleChange(_x){return _handleChange.apply(this,arguments);}function _handleChange(){_handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(args){var groupId,meething;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;groupId=+args.target.value;_context.next=4;return meetingService.getMeethingByGroup(groupId);case 4:meething=_context.sent;setmeeting(meething);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _handleChange.apply(this,arguments);}function deleteMeething(_x2){return _deleteMeething.apply(this,arguments);}function _deleteMeething(){_deleteMeething=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(meetingsId){var newMeeting,indexToDelete;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return meetingService.deleteMeething(meetingsId);case 3:alert(\"meeting has been deleted\");newMeeting=_toConsumableArray(meeting);indexToDelete=newMeeting.findIndex(function(m){return m.meetingsId===meetingsId;});newMeeting.splice(indexToDelete,1);setmeeting(newMeeting);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _deleteMeething.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"Meething\",children:[/*#__PURE__*/_jsxs(\"select\",{defaultValue:\"\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,value:\"\",children:\"Select Group\"}),gruops.map(function(c){return/*#__PURE__*/_jsx(\"option\",{value:c.groupId,children:c.groupName},c.groupId);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:meeting.map(function(m){return/*#__PURE__*/_jsx(MeetingCard,{meeting:m,deleteMeething:deleteMeething},m.meetingsId);})})]});}export default Meeting;","map":{"version":3,"sources":["C:/Users/erans/OneDrive/שולחן העבודה/jhon-bryce-assaf/projects/Company meetings-project/Frontend/src/Components/MeetingArea/Meeting/Meeting.tsx"],"names":["useEffect","useState","meetingService","MeetingCard","Meeting","gruops","setgruops","meeting","setmeeting","getAllGroups","then","groups","catch","err","alert","message","handleChange","args","groupId","target","value","getMeethingByGroup","meething","deleteMeething","meetingsId","newMeeting","indexToDelete","findIndex","m","splice","map","c","groupName"],"mappings":"48BAAA,OAAyBA,SAAzB,CAAoCC,QAApC,KAAoD,OAApD,CAGA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAO,eAAP,C,wFAEA,QAASC,CAAAA,OAAT,EAAgC,CAE5B,cAA4BH,QAAQ,CAAwB,EAAxB,CAApC,wCAAOI,MAAP,eAAeC,SAAf,eACA,eAA8BL,QAAQ,CAAiB,EAAjB,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eAEAR,SAAS,CAAC,UAAM,CACZE,cAAc,CAACO,YAAf,GACKC,IADL,CACU,SAAAC,MAAM,QAAIL,CAAAA,SAAS,CAACK,MAAD,CAAb,EADhB,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAT,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAL4B,QAWbC,CAAAA,YAXa,gJAW5B,iBAA4BC,IAA5B,uJAEcC,OAFd,CAEwB,CAAED,IAAI,CAACE,MAAN,CAAmCC,KAF5D,uBAG+BlB,CAAAA,cAAc,CAACmB,kBAAf,CAAkCH,OAAlC,CAH/B,QAGcI,QAHd,eAIQd,UAAU,CAACc,QAAD,CAAV,CAJR,+EAOQR,KAAK,CAAC,YAAIC,OAAL,CAAL,CAPR,oEAX4B,uDAsBbQ,CAAAA,cAtBa,uJAsB5B,kBAA8BC,UAA9B,2LAEctB,CAAAA,cAAc,CAACqB,cAAf,CAA8BC,UAA9B,CAFd,QAGQV,KAAK,CAAC,0BAAD,CAAL,CACMW,UAJd,oBAI+BlB,OAJ/B,EAKcmB,aALd,CAK8BD,UAAU,CAACE,SAAX,CAAqB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACJ,UAAF,GAAiBA,UAArB,EAAtB,CAL9B,CAMQC,UAAU,CAACI,MAAX,CAAkBH,aAAlB,CAAiC,CAAjC,EACAlB,UAAU,CAACiB,UAAD,CAAV,CAPR,qFAUQX,KAAK,CAAC,aAAIC,OAAL,CAAL,CAVR,uEAtB4B,iDAoC5B,mBACI,aAAK,SAAS,CAAC,UAAf,wBAEI,gBAAQ,YAAY,CAAC,EAArB,CAAwB,QAAQ,CAAEC,YAAlC,wBACI,eAAQ,QAAQ,KAAhB,CAAiB,KAAK,CAAC,EAAvB,0BADJ,CAEKX,MAAM,CAACyB,GAAP,CAAW,SAAAC,CAAC,qBAAI,eAAwB,KAAK,CAAEA,CAAC,CAACb,OAAjC,UAA2Ca,CAAC,CAACC,SAA7C,EAAaD,CAAC,CAACb,OAAf,CAAJ,EAAZ,CAFL,GAFJ,cAOI,aAPJ,cASI,YAAK,SAAS,CAAC,WAAf,UACKX,OAAO,CAACuB,GAAR,CAAY,SAAAF,CAAC,qBAAI,KAAC,WAAD,EAAgC,OAAO,CAAEA,CAAzC,CAA4C,cAAc,CAAEL,cAA5D,EAAkBK,CAAC,CAACJ,UAApB,CAAJ,EAAb,CADL,EATJ,GADJ,CAgBH,CAED,cAAepB,CAAAA,OAAf","sourcesContent":["import { SyntheticEvent, useEffect, useState } from \"react\";\nimport devGruopsModelModel from \"../../../Models/devGruopsModel\";\nimport meetingModel from \"../../../Models/meetingModel\";\nimport meetingService from \"../../../Services/MeetingService\";\nimport MeetingCard from \"../MeetingCard/MeetingCard\";\nimport \"./Meeting.css\";\n\nfunction Meeting(): JSX.Element {\n\n    const [gruops, setgruops] = useState<devGruopsModelModel[]>([]);\n    const [meeting, setmeeting] = useState<meetingModel[]>([]);\n\n    useEffect(() => {\n        meetingService.getAllGroups()\n            .then(groups => setgruops(groups))\n            .catch(err => alert(err.message));\n    }, []);\n\n    async function handleChange(args: SyntheticEvent) {\n        try {\n            const groupId = +(args.target as HTMLSelectElement).value;\n            const meething = await meetingService.getMeethingByGroup(groupId);\n            setmeeting(meething);\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    async function deleteMeething(meetingsId: number) {\n        try {\n            await meetingService.deleteMeething(meetingsId);\n            alert(\"meeting has been deleted\");\n            const newMeeting = [...meeting];\n            const indexToDelete = newMeeting.findIndex(m => m.meetingsId === meetingsId);\n            newMeeting.splice(indexToDelete, 1);\n            setmeeting(newMeeting);\n        }\n        catch (err: any) {\n            alert(err.message);\n     }\n    }\n\n    return (\n        <div className=\"Meething\">\n\n            <select defaultValue=\"\" onChange={handleChange}>\n                <option disabled value=\"\">Select Group</option>\n                {gruops.map(c => <option key={c.groupId} value={c.groupId}>{c.groupName}</option>)}\n            </select>\n\n            <br />\n\n            <div className=\"container\">\n                {meeting.map(m => <MeetingCard key={m.meetingsId} meeting={m} deleteMeething={deleteMeething} />)}\n            </div>\n\n        </div>\n    );\n}\n\nexport default Meeting;\n"]},"metadata":{},"sourceType":"module"}